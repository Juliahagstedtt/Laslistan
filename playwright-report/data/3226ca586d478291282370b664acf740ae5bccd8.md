# Test info

- Name: Mina Böcker >> Som användare vill jag kunna favoritmarkera en bok i katalogen och direkt se att den visas i "Mina böcker".
- Location: C:\Users\46736\Desktop\Hemsidor\Skola\Testning\Laslistan\src\tests\my-books.spec.js:57:9

# Error details

```
Error: locator.click: Test timeout of 30000ms exceeded.
Call log:
  - waiting for getByRole('button', { name: 'Katalog' })
    - locator resolved to <button disabled data-testid="catalog"> Katalog </button>
  - attempting click action
    2 × waiting for element to be visible, enabled and stable
      - element is not enabled
    - retrying click action
    - waiting 20ms
    2 × waiting for element to be visible, enabled and stable
      - element is not enabled
    - retrying click action
      - waiting 100ms
    57 × waiting for element to be visible, enabled and stable
       - element is not enabled
     - retrying click action
       - waiting 500ms

    at C:\Users\46736\Desktop\Hemsidor\Skola\Testning\Laslistan\src\tests\my-books.spec.js:59:65
```

# Page snapshot

```yaml
- banner:
  - img "Bokklubb på café"
  - heading "Läslistan" [level=1]
  - navigation:
    - button "Katalog" [disabled]
    - button "Lägg till bok"
    - button "Mina böcker"
- main:
  - heading "Välkommen!" [level=2]
  - paragraph: Sidan för dig som gillar att läsa. Välj dina favoriter.
  - button "❤️"
  - text: "\"Hur man tappar bort sin TV-fjärr 10 gånger om dagen\", Bertil Flimmer"
  - button "❤️"
  - text: "\"Kaffekokaren som visste för mycket\", Saga Espresson"
  - button "❤️"
  - text: "\"Min katt är min chef\", Kattis Jamsson"
  - button "❤️"
  - text: "\"100 sätt att undvika måndagar\", Göran Snooze"
  - button "❤️"
  - text: "\"Gräv där du står – och hitta en pizzameny\", Maja Skruv"
  - button "❤️"
  - text: "\"Jag trodde det var tisdag\", Kim Vilsen"
  - button "❤️"
  - text: "\"Att prata med växter – och vad de egentligen tycker om dig\", Flora Tistel"
```

# Test source

```ts
   1 | import { test, expect }  from '@playwright/test'
   2 |
   3 | test.describe('Mina Böcker', () => {
   4 |     test.beforeEach(async ({ page }) => {
   5 |         await page.goto('https://tap-ht24-testverktyg.github.io/exam-template/')
   6 |     })
   7 |     test('Som användare vill jag kunna se mina favoritböcker i vyn "Mina böcker".', async ({ page }) => {
   8 |
   9 |     // 1. Klicka på "Katalog" (om du inte redan är där)
  10 |         const katalogButton = page.getByRole('button', { name: 'Katalog' });
  11 |         await katalogButton.waitFor({ state: 'enabled', timeout: 10000 });
  12 |         await katalogButton.click();
  13 |
  14 |     // 2. Klicka på ett hjärta för att lägga till en bok som favorit
  15 |         const favoriteButton = page.getByRole('button', { name: 'Favorit' }).first();
  16 |         await favoriteButton.click();
  17 |
  18 |     // 3. Kontrollera att den favoritmarkerade boken syns i "Mina böcker"
  19 |         await page.getByRole('button', { name: 'Mina böcker' }).click();
  20 |         const book = page.locator('[data-testid="book"]').first();
  21 |         const title = await book.locator('.title').textContent();
  22 |         await expect(page.getByText(title)).toBeVisible();
  23 |     })
  24 |
  25 |
  26 |     test('Som användare vill jag att det visas ett meddelande om jag inte har några favoritböcker ännu.', async ({ page }) => {
  27 |         // Gå till "Mina böcker"-vyn
  28 |         const MyBooksButton = page.getByRole('button', { name: 'Mina böcker' })
  29 |         await MyBooksButton.click()        
  30 |
  31 |         // Verifiera att ett meddelande visas när listan med favoritböcker är tom.
  32 |         await expect(page.getByText('När du valt, kommer dina favoritböcker att visas här.')).toBeVisible();
  33 |     })
  34 |
  35 |
  36 |     test('Som användare vill jag kunna ta bort en bok från "Mina böcker" genom att avmarkera den i katalogen.', async ({ page }) => {
  37 |         // 1. Klicka till katalog och på hjärta för favoritmarkera
  38 |             await page.getByRole('button', { name: 'Katalog' }).click();
  39 |             const favoriteButtonAgain = page.getByRole('button', { name: 'Favorit' }).first();
  40 |             await favoriteButtonAgain.click();
  41 |
  42 |         // 3. Klicka på "Mina böcker" för att kontrollera att den syns
  43 |             const MyBooksButton = page.getByRole('button', { name: 'Mina böcker' })
  44 |             await MyBooksButton.click()
  45 |
  46 |         // 4. Gå tillbaka till "katalog" sidan och avmarkera
  47 |             await page.getByRole('button', { name: 'Katalog' }).click();
  48 |             await favoriteButtonAgain.click();
  49 |
  50 |         // 5. Tillbaka till Mina böcker för att kontrollera den är borta
  51 |             await page.getByRole('button', { name: 'Mina böcker' }).click();
  52 |             await expect(page.getByText("När du valt, kommer dina favoritböcker att visas här.")).toBeVisible();
  53 |
  54 |     })
  55 |
  56 |
  57 |     test('Som användare vill jag kunna favoritmarkera en bok i katalogen och direkt se att den visas i "Mina böcker".', async ({ page }) => {
  58 |         // 1. Klicka på "Katalog" 
> 59 |             await page.getByRole('button', { name: 'Katalog' }).click();
     |                                                                 ^ Error: locator.click: Test timeout of 30000ms exceeded.
  60 |
  61 |         // 2. Klicka på hjärta för favoritmarkera
  62 |             const favoriteButton = page.getByRole('button', { name: 'Favorit' }).first();
  63 |             await favoriteButton.click();
  64 |
  65 |         // 3. Klicka på "Mina böcker" för att kontrollera att den syns
  66 |             await page.getByRole('button', { name: 'Mina böcker' }).click()
  67 |
  68 |         // 4. Kontrollera så att favorit boken syns
  69 |             const book = page.locator('[data-testid="book"]').first();
  70 |             const title = await book.locator('.title').textContent();
  71 |             await expect(page.getByText(title)).toBeVisible();
  72 |     })
  73 | })
  74 |
```